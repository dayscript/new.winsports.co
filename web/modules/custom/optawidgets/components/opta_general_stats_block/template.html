<div>
    <div class="menu-secundario mb-6">
        <ul v-if="type==='col'">
            <li>
                <a @click="type='col'" class="is-active">Fútbol Colombiano</a>
            </li>
            <li>
                <a :href="tournaments.int.path">Fútbol Internacional</a>
            </li>
        </ul>
        <ul v-if="type==='int'">
            <li>
                <a :href="tournaments.col.path">Fútbol Colombiano</a>
            </li>
            <li>
                <a @click="type='int'" class="is-active">Fútbol Internacional</a>
            </li>
        </ul>
        <div class="tw-items-center teams-list">
            <div v-for="tournament in tournaments[type].list" class="team-item">
                <a :class="{'is-active':tournament.field_opta_id === competition}" :href="'/posiciones?id='+tournament.field_opta_id + '-'+tournament.field_opta_season">
                    <img :src="tournament.field_image_h" :alt="tournament.title">
                </a>
            </div>
        </div>
    </div>
    <div class="tool flex mb-4">
        <div class="w-2/12 self-center text-center">
            <img class="inline-block" src="/themes/custom/tailwindcss/images/tool.png">
        </div>
        <div class="w-10/12 text-xs self-center opta-widgets">
            Más datos y estadísticas desplazándose de forma horizontal 
        </div>
    </div>
    <div class="opta-widgets">
        <div v-if="competition>0 && season>0">
            <div class="opta-widgets-menu flex flex-no-wrap overflow-x-auto w-full mb-px">
                <div @click="selectOption(option.key)" v-for="option in options" class="flex-1 text-center whitespace-no-wrap py-3 px-2 md:px-6 font-title font-semibold cursor-pointer table-option" :class="selected_option == option.key?'active':''">{{ option.label }}</div>
            </div>
            <div v-show="selected_option == 'positions'" id="positions">
                <div v-if="selected_playoffs" id="brackets">
                    <div class="flex flex-no-wrap overflow-x-auto w-full pb-16">
                        <div  v-for="(rounds, index) in playoffs.A" class="flex">
                            <div class="flex-1" :class="rounds.type === 'cuartos_de_final' && playoffs.r16 === false ? 'tw-p-3' : ''">
                                <div v-if="rounds.type === 'final'" class="flex text-base font-title uppercase justify-center pt-16">
                                    Campeón
                                </div>
                                <div v-if="rounds.type === 'final'" class="flex justify-center">
                                    <div class="flex table-option active tw-p-6">
                                        <img :src="'//secure.omo.akamai.opta.net/image.php?secure=true&h=secure.omo.akamai.opta.net&sport=football&entity=team&description=badges&dimensions=65&id='+ playoffs.C.id" :alt="playoffs.C.name" :title="playoffs.C.name">
                                    </div>
                                </div>
                                <div class="flex text-base font-title uppercase" :class="{'pb-3 justify-start': rounds.type === 'ronda_de_16', 'pt-24 pb-3 justify-start': rounds.type === 'cuartos_de_final', 'pt-12 pb-3 mt-56 justify-start': rounds.type === 'semifinal', 'pt-16 pb-3 justify-center': rounds.type === 'final'}">
                                    {{rounds.name}}
                                </div>
                                <div  v-for="(match, key, index) in rounds.matches" class="flex pr-18" :class="{'pb-8': rounds.type === 'ronda_de_16' && index === 0,'pb-8 pt-12': rounds.type === 'ronda_de_16' && index === 1, 'pb-16 pt-16': rounds.type === 'ronda_de_16' && index === 2,'pb-12 pt-6': rounds.type === 'ronda_de_16' && index === 3, 'pb-32': rounds.type === 'cuartos_de_final' && index === 0, 'pt-32': rounds.type === 'cuartos_de_final' && index > 0}" :id="[rounds.type === 'ronda_de_16' ? 'r16l'+index : rounds.type === 'cuartos_de_final' && playoffs.r16 === true ? 'cfl'+index : rounds.type === 'cuartos_de_final' && playoffs.r16 === false ? 'r8l'+index : rounds.type === 'semifinal' ? 'sfl'+index  : '']">
                                    <div class="flex-1">
                                        <div class="flex tw-pb-1" :class="rounds.type === 'final' ? 'justify-center' : 'justify-start'">
                                            <div class="flex tw-bg-teal-900 tw-text-white tw-w-12 tw-h-12 p-2">
                                                <img :src="'//secure.omo.akamai.opta.net/image.php?secure=true&h=secure.omo.akamai.opta.net&sport=football&entity=team&description=badges&dimensions=65&id='+ match.home_team_id" :alt="match.home_team_name" :title="match.home_team_name">
                                            </div>
                                            <div class="flex tw-bg-primary tw-text-white tw-font-bold tw-py-2" :class="match.home_pen_score > 0 || match.away_pen_score > 0 ? 'tw-px-3' : 'tw-px-6'">
                                                 {{ match.home_score }} <small v-if="match.home_pen_score > 0 || match.away_pen_score > 0" class="p-1">({{ match.home_pen_score }})</small>
                                            </div>
                                            <div v-if="match.back" class="flex tw-bg-primary tw-text-white tw-font-bold tw-py-2" :class="match.back.home_pen_score > 0 || match.back.away_pen_score > 0 ? 'tw-px-3' : 'tw-px-6'">
                                                {{ match.back.away_score }} <small v-if="match.back.home_pen_score > 0 || match.back.away_pen_score > 0" class="p-1">({{ match.back.away_pen_score }})</small>
                                            </div>
                                        </div>
                                        <div class="flex" :class="rounds.type === 'final' ? 'justify-center' : 'justify-start'">
                                            <div class="flex tw-bg-gray tw-text-white tw-w-12 tw-h-12 p-2">
                                                <img :src="'//secure.omo.akamai.opta.net/image.php?secure=true&h=secure.omo.akamai.opta.net&sport=football&entity=team&description=badges&dimensions=65&id='+ match.away_team_id" :alt="match.away_team_name" :title="match.away_team_name">
                                            </div>
                                            <div class="flex tw-bg-primary tw-text-white tw-font-bold tw-py-2" :class="match.home_pen_score > 0 || match.away_pen_score > 0 ? 'tw-px-3' : 'tw-px-6'">
                                                {{ match.away_score }} <small v-if="match.home_pen_score > 0 || match.away_pen_score > 0" class="p-1">({{ match.away_pen_score }})</small>
                                            </div>
                                            <div v-if="match.back"  class="flex tw-bg-primary tw-text-white tw-font-bold tw-py-2" :class="match.back.home_pen_score > 0 || match.back.away_pen_score > 0 ? 'tw-px-3' : 'tw-px-6'">
                                                {{ match.back.away_score }} <small v-if="match.back.home_pen_score > 0 || match.back.away_pen_score > 0" class="p-1">({{ match.back.away_pen_score }})</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="flex-1">
                                <div v-if="rounds.type === 'ronda_de_16'" id="mir16l" class="flex tw-w-16 tw-h-auto">
                                    <img src="/sites/default/files/playoffs/r16l.svg" class="mt-12">
                                </div>
                                <div v-if="rounds.type === 'cuartos_de_final'" id="mir16l" class="flex tw-w-16 tw-h-auto">
                                    <img src="/sites/default/files/playoffs/cfl.svg" class="mt-40">
                                </div>
                                <div v-if="rounds.type === 'semifinal'" id="mir16l" class="flex tw-w-32 tw-h-auto pt-16">
                                    <img src="/sites/default/files/playoffs/sfl.svg" class="mt-64">
                                </div>
                            </div>
                        </div>
                        <div  v-for="(rounds,index) in playoffs.B" class="flex">
                            <div v-if="rounds.type !== 'final'" class="flex-1">
                                <div v-if="rounds.type === 'ronda_de_16'" class="flex tw-w-16 tw-h-auto justify-end">
                                    <img src="/sites/default/files/playoffs/r16r.svg" class="mt-12">
                                </div>
                                <div v-if="rounds.type === 'cuartos_de_final'" class="flex tw-w-16 tw-h-auto justify-end">
                                    <img src="/sites/default/files/playoffs/cfr.svg" class="mt-40">
                                </div>
                                <div v-if="rounds.type === 'semifinal'" class="flex tw-w-32 tw-h-auto pt-16 justify-end">
                                    <img src="/sites/default/files/playoffs/sfr.svg" class="mt-64">
                                </div> 
                            </div>
                            <div class="flex-1" :class="rounds.type === 'cuartos_de_final' && playoffs.r16 === false ? 'tw-p-3' : ''">
                                <div class="flex text-base font-title uppercase" :class="{'pb-3 justify-start': rounds.type === 'ronda_de_16', 'pt-24 pb-3 justify-start': rounds.type === 'cuartos_de_final', 'pt-12 pb-3 mt-56 justify-start': rounds.type === 'semifinal', 'pt-16 pb-3 justify-center': rounds.type === 'final'}">
                                    {{rounds.name}}
                                </div>
                                <div  v-for="(match, key, index) in rounds.matches" class="flex pl-18" :class="{'pb-8': rounds.type === 'ronda_de_16' && index === 0,'pb-8 pt-12': rounds.type === 'ronda_de_16' && index === 1, 'pb-16 pt-16': rounds.type === 'ronda_de_16' && index === 2,'pb-12 pt-6': rounds.type === 'ronda_de_16' && index === 3, 'pb-32': rounds.type === 'cuartos_de_final' && index === 0, 'pt-32': rounds.type === 'cuartos_de_final' && index > 0}" :id="[rounds.type === 'ronda_de_16' ? 'r16r'+index : rounds.type === 'cuartos_de_final' && playoffs.r16 === true ? 'cfr'+index : rounds.type === 'cuartos_de_final' && playoffs.r16 === false ? 'r8r'+index : rounds.type === 'semifinal' ? 'sfr'+index  : '']">
                                    <div class="flex-1">
                                        <div class="flex tw-pb-1" :class="rounds.type === 'final' ? 'justify-center' : 'justify-end'">
                                            <div v-if="match.back" class="flex tw-bg-primary tw-text-white tw-font-bold tw-py-2" :class="match.back.home_pen_score > 0 || match.back.away_pen_score > 0 ? 'tw-px-3' : 'tw-px-6'">
                                                {{ match.back.away_score }} <small v-if="match.back.home_pen_score > 0 || match.back.away_pen_score > 0" class="p-1">({{ match.back.away_pen_score }})</small>
                                            </div>
                                            <div class="flex tw-bg-primary tw-text-white tw-font-bold tw-py-2" :class="match.home_pen_score > 0 || match.away_pen_score > 0 ? 'tw-px-3' : 'tw-px-6'">
                                                 {{ match.home_score }} <small v-if="match.home_pen_score > 0 || match.away_pen_score > 0" class="p-1">({{ match.home_pen_score }})</small>
                                            </div>
                                            <div class="flex tw-bg-teal-900 tw-text-white tw-w-12 tw-h-12 p-2">
                                                <img :src="'//secure.omo.akamai.opta.net/image.php?secure=true&h=secure.omo.akamai.opta.net&sport=football&entity=team&description=badges&dimensions=65&id='+ match.home_team_id" :alt="match.home_team_name" :title="match.home_team_name">
                                            </div>
                                        </div>
                                        <div class="flex" :class="rounds.type === 'final' ? 'justify-center' : 'justify-end'">
                                            <div v-if="match.back"  class="flex tw-bg-primary tw-text-white tw-font-bold tw-py-2" :class="match.back.home_pen_score > 0 || match.back.away_pen_score > 0 ? 'tw-px-3' : 'tw-px-6'">
                                                {{ match.back.away_score }} <small v-if="match.back.home_pen_score > 0 || match.back.away_pen_score > 0" class="p-1">({{ match.back.away_pen_score }})</small>
                                            </div>
                                            <div class="flex tw-bg-primary tw-text-white tw-font-bold tw-py-2" :class="match.home_pen_score > 0 || match.away_pen_score > 0 ? 'tw-px-3' : 'tw-px-6'">
                                                {{ match.away_score }} <small v-if="match.home_pen_score > 0 || match.away_pen_score > 0" class="p-1">({{ match.away_pen_score }})</small>
                                            </div>
                                            <div class="flex tw-bg-gray tw-text-white tw-w-12 tw-h-12 p-2">
                                                <img :src="'//secure.omo.akamai.opta.net/image.php?secure=true&h=secure.omo.akamai.opta.net&sport=football&entity=team&description=badges&dimensions=65&id='+ match.away_team_id" :alt="match.away_team_name" :title="match.away_team_name">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <opta-widget widget="standings" sport="football" :competition="competition" :season="season" template="normal" live="true" default_nav="1" side="combined" data_detail="full" show_key="true" show_crests="true" points_in_first_column="true" lose_before_draw="true" competition_naming="full" team_naming="full" date_format="dddd D MMMM YYYY" sorting="false" show_live="true" show_relegation_average="false" show_logo="false" show_title="false" time_format="hh:mm A" breakpoints="400"></opta-widget>
            </div>
            <div v-show="selected_option == 'calendar'" id="calendar">
                <opta-widget load="false" sport="football" widget="fixtures" :competition="competition" :season="season" template="normal" live="true" show_venue="false" match_status="fixture" grouping="date" show_grouping="true" default_nav="1" start_on_current="true" switch_current="0" sub_grouping="date" show_subgrouping="false" order_by="date_ascending" show_crests="true" date_format="dddd D MMMM YYYY" time_format="hh:mm A" competition_naming="full" team_naming="full" pre_match="false" show_live="true" show_logo="false" show_title="false" breakpoints="400"></opta-widget>
            </div>
            <div v-show="selected_option == 'results'" id="results">
                <opta-widget load="false" widget="fixtures" :competition="competition" :season="season" template="normal" live="true" show_venue="true" match_status="result,live" grouping="date" show_grouping="true" navigation="none" default_nav="1" start_on_current="true" sub_grouping="date" show_subgrouping="true" order_by="date_descending" show_crests="true" date_format="dddd D MMMM YYYY" time_format="hh:mm A" month_date_format="MMMM" competition_naming="full" team_naming="full" pre_match="false" show_live="true" show_logo="false" show_title="false" breakpoints="400" sport="football">
                    <div v-if="competition !== '625' && competition !== '901' && competition !== '664' && competition !== '847'">
                        <opta-widget sport="football" widget="match_summary" template="normal" live="" competition="" season="" match="" show_match_header="false" show_attendance="true" show_cards="true" show_crests="false" show_goals="true" show_goals_combined="false" show_penalties_missed="false" show_referee="true" show_subs="true" show_venue="true" show_shootouts="false" player_naming="last_name" player_link="" show_logo="false" time_format="hh:mm A" breakpoints="400"></opta-widget>
                    </div>
                </opta-widget>
            </div>
            <div v-show="selected_option == 'season_standings'" id="season_standings">
                <opta-widget load="false" widget="season_standings" :competition="competition" :season="season" template="normal" show_competition_name="false" show_team_list="true" preselected_only="false" show_match_header="false" show_date="true" show_match_details="true" show_crests="true" show_axis_labels="true" show_plot_points="true" plot_curves="false" date_format="dddd D MMMM YYYY" competition_naming="full" team_naming="full" show_logo="false" show_title="false" breakpoints="400, 700" sport="football"></opta-widget>
            </div>
            <div v-show="selected_option == 'team_ranking'" id="team_ranking">
                <opta-widget load="false" widget="team_ranking" :competition="competition" :season="season" template="normal" navigation="tabs_more" default_nav="1" show_crests="false" show_ranks="true" visible_categories="fouls,passing_accuracy,goals,goal_conversion,shots,passes" limit="10" hide_zeroes="true" team_naming="full" show_logo="false" show_title="false" breakpoints="400" sport="football"></opta-widget>
            </div>
            <div v-show="selected_option == 'scorers'" id="scorers">
                <opta-widget load="false" widget="player_ranking" :competition="competition" :season="season" template="graph" navigation="tabs_more" orientation="horizontal" show_crests="false" show_images="true" show_ranks="true" show_appearances="true" visible_categories="goals" limit="20" hide_zeroes="true" show_team_names="true" team_naming="full" player_naming="full" show_logo="false" show_title="false" breakpoints="400" sport="football"></opta-widget>
            </div>
            <div v-show="selected_option == 'referees'" id="referees">
                <opta-widget load="false" widget="referees" :competition="competition" :season="season" template="normal" show_fouls="true" show_penalties="true" show_cards_yellow="true" show_cards_red="true" show_offsides="true" show_cards_per_game="true" show_fouls_per_card="true" show_cards_icons="true" sorting="false" player_naming="full" show_logo="false" show_title="false" breakpoints="400" sport="football"></opta-widget>
            </div>
            <div v-show="selected_option == 'player_ranking'" id="player_ranking">
                <opta-widget load="false" widget="player_ranking" :competition="competition" :season="season" template="normal" navigation="tabs_more" show_crests="false" show_images="false" show_ranks="true" show_appearances="true" visible_categories="goals,goals_conceded,passes,cards_yellow,cards_red,saves" limit="10" hide_zeroes="true" show_team_names="true" team_naming="full" player_naming="full" show_logo="false" show_title="false" breakpoints="400" sport="football"></opta-widget>
            </div>
            <div v-show="selected_option == 'player_compare'" id="player_compare">
                <opta-widget load="false" widget="player_compare" :competition="competition" :season="season" template="dual" navigation="tabs_more" default_nav="1" show_selects="true" show_crests="false" show_images="false" show_graphs="true" graph_style="full" competition_naming="full" team_naming="full" player_naming="full" show_logo="false" show_title="false" breakpoints="400" sport="football"></opta-widget>
            </div>
            <div v-show="selected_option == 'decline'" id="decline">
                <div class="flex">
                    <div class="w-1/2 flex"></div>
                    <div class="w-1/2 flex text-center justify-between pb-1 border-b" style="border-color: rgba(10,59,65,0.2);">
                        <div class="flex-1">Pts</div>
                        <div class="flex-1">Prom</div>
                        <div class="flex-1">PJ</div>
                    </div>    
                </div>
                <div v-for="(row,index) in teams" class="ml-1 flex border-b-1 p-1 justify-between text-sm">
                    <div class="w-1/2 flex items-center">
                        <div class="w-1/6 text-center px-2"><strong>{{ row.pos }}</strong></div>
                        <div class="w-5/6 truncate ml-1">{{ row.name }}</div>
                    </div>
                    <div class="w-1/2 flex text-center justify-between pb-1 border-b" style="border-color: rgba(10,59,65,0.2);">
                        <div class="flex-1">{{ row.pt }}</div>
                        <div class="flex-1">{{ row.prom }}</div>
                        <div class="flex-1">{{ row.pj }}</div>
                    </div>
                </div>
            </div>
            <div v-show="selected_option == 'reclassification'" id="reclassification">
                <div class="flex">
                    <div class="w-1/2 flex"></div>
                    <div class="w-1/2 flex text-center justify-between pb-1 border-b" style="border-color: rgba(10,59,65,0.2);">
                        <div class="flex-1">Pts</div>
                        <div class="flex-1">PJ</div>
                        <div class="flex-1">GF</div>
                        <div class="flex-1">GC</div>
                        <div class="flex-1">DG</div>
                    </div>
                </div>
                <div v-for="(row,index) in teams" class="ml-1 flex border-b-1 p-1 justify-between text-sm">
                    <div class="w-1/2 flex items-center">
                        <div class="w-1/6 text-center px-2"><strong>{{ row.pos }}</strong></div>
                        <div class="w-5/6 truncate ml-1">{{ row.name }}</div>
                    </div>
                    <div class="w-1/2 flex text-center justify-between pb-1 border-b" style="border-color: rgba(10,59,65,0.2);">
                        <div class="flex-1">{{ row.pt }}</div>
                        <div class="flex-1">{{ row.pj }}</div>
                        <div class="flex-1">{{ row.gf }}</div>
                        <div class="flex-1">{{ row.gc }}</div>
                        <div class="flex-1">{{ row.gd }}</div>
                    </div>
                </div>
            </div>
        </div>
        <div v-else>
            <div style="color:white;background-color: rgba(78,165,255,0.45);padding: 10px;">
                <small>Opta fields not found or incorrect</small>
            </div>
        </div>
    </div>
</div>